<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="media/MYHeritage_Brand.png" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
    />

    <!--Bootstrap-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link href="resources/css/tiny-slider.css" rel="stylesheet" />
    <link href="resources/css/style.css" rel="stylesheet" />
    <title>User Account</title>
    <style>
      /* Custom styles for the heading */
      h2 {
          font-size: 23px; /* Adjust the font size as needed */
          color: #3f3f3f; /* Optionally, set the color */
          margin-top: 40px;
      }
    </style>
 
    <body>
        <script type="module" src="/resources/js/main.js"></script>
        <script
          async
          crossorigin="anonymous"
          data-clerk-publishable-key="pk_test_c2V0dGxlZC1taW5ub3ctNjAuY2xlcmsuYWNjb3VudHMuZGV2JA"
          src="https://https://settled-minnow-60.clerk.accounts.dev/npm/@clerk/clerk-js@4/dist/clerk.browser.js"
          type="text/javascript"
        ></script>
    
        <!-- Start Header/Navigation -->
        <nav
          class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark"
          arial-label="My account navigation bar"
        >
          <div class="container">
            <a class="navbar-brand" href="userAccount.html"
              >My Account
              <!-- <img src="media/MYHeritage_Logo.png" alt="MyHeritage Logo" /> -->
            </a>
    
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarsFurni"
              aria-controls="navbarsFurni"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
    
            <div class="collapse navbar-collapse" id="navbarsFurni">
              <ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
                <li><a class="nav-link" href="index.html">Home</a></li>
                <li><a class="nav-link" href="#">My Orders</a></li>
              </ul>
            </div>
          </div>
        </nav>

        <div class="container">
          <h2>User Profile</h2>
          <!-- Profile Picture Container -->
          <div class="profile-picture-container">
              <label for="profileImage">
                  <img src="media/person_1.jpg" alt="Profile Picture" class="profile-picture">
              </label>
              <input type="file" id="profileImage" style="display: none;" accept="image/*">
          </div>
          <!-- User Profile Form Container -->
          <div class="user-profile-form-container">
              <form class="user-profile-form">
                  <div class="mb-3">
                      <label for="name" class="form-label">Name</label>
                      <input type="text" class="form-control" id="name" value="John Doe" readonly>
                  </div>
                  <div class="mb-3">
                      <label for="email" class="form-label">Email</label>
                      <input type="email" class="form-control" id="email" value="john@example.com" readonly>
                  </div>
                  <div class="mb-3">
                      <label for="phone" class="form-label">Phone</label>
                      <input type="text" class="form-control" id="phone" value="123-456-7890" readonly>
                  </div>
                  <div class="mb-3">
                      <label for="address" class="form-label">Address</label>
                      <input type="text" class="form-control" id="address" value="123 Main Street, City, Country" readonly>
                  </div>
                  <button id="editButton" class="btn btn-editCustom" onclick="toggleEditMode()">Edit Profile</button>
              </form>
              
          </div>
      </div>
      
      <!--change password form-->
      <div class="container">
        <h2>Change Password</h2>
        <form class="change-password-form">
            <!-- Your form fields for changing password -->
            <div class="mb-3">
                <label for="currentPassword" class="form-label">Current Password</label>
                <input type="password" class="form-control" id="currentPassword">
            </div>
            <div class="mb-3">
                <label for="newPassword" class="form-label">New Password</label>
                <input type="password" class="form-control" id="newPassword">
            </div>
            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm New Password</label>
                <input type="password" class="form-control" id="confirmPassword">
            </div>
            <button type="submit" class="btn btn-secondary">Change Password</button>
        </form>
        <p class="success-message" id="successMessage" style="display: none;">Password has been successfully changed.</p>
    </div>
      
         
      
      <script>
          function toggleEditMode() {
              var editButton = document.getElementById('editButton');
              var saveButton = document.createElement('button');
              saveButton.innerHTML = 'Save';
              saveButton.setAttribute('id', 'saveButton');
              saveButton.setAttribute('class', 'btn btn-primary'); // Change button class
              saveButton.setAttribute('onclick', 'saveChanges()');
              editButton.parentNode.replaceChild(saveButton, editButton);
      
              // Enable input fields for editing
              document.getElementById('name').readOnly = false;
              document.getElementById('email').readOnly = false;
              document.getElementById('phone').readOnly = false;
              document.getElementById('address').readOnly = false;
              
              // Show the file input for changing profile picture
              document.getElementById('profileImage').style.display = 'block';
          }
      
          function saveChanges() {
              // Add logic to save changes here
              // For demonstration purposes, we'll just log a message
              console.log('Changes saved successfully!');
              // After saving changes, you can revert the button back to "Edit Profile"
              var saveButton = document.getElementById('saveButton');
              var editButton = document.createElement('button');
              editButton.innerHTML = 'Edit Profile';
              editButton.setAttribute('id', 'editButton');
              editButton.setAttribute('class', 'btn btn-primary'); // Change button class
              editButton.setAttribute('onclick', 'toggleEditMode()');
              saveButton.parentNode.replaceChild(editButton, saveButton);
      
              // Disable input fields after saving
              document.getElementById('name').readOnly = true;
              document.getElementById('email').readOnly = true;
              document.getElementById('phone').readOnly = true;
              document.getElementById('address').readOnly = true;
      
              // Hide the file input for changing profile picture
              document.getElementById('profileImage').style.display = 'none';
          }
      
          document.getElementById('profileImage').addEventListener('change', function(event) {
              var file = event.target.files[0];
              var reader = new FileReader();
              reader.onload = function(event) {
                  var img = document.querySelector('.profile-picture');
                  img.src = event.target.result;
              };
              reader.readAsDataURL(file);
          });
      </script>
          <script>
            document.addEventListener('DOMContentLoaded', function() {
                const form = document.querySelector('.change-password-form');
                const successMessage = document.getElementById('successMessage');
    
                form.addEventListener('submit', function(event) {
                    // Prevent the default form submission
                    event.preventDefault();
    
                    // Check if any input field is empty
                    const inputs = form.querySelectorAll('input');
                    let isEmpty = false;
                    inputs.forEach(input => {
                        if (input.value.trim() === '') {
                            isEmpty = true;
                        }
                    });
    
                    // If any input field is empty, show an alert and return
                    if (isEmpty) {
                        alert('Please fill in all fields.');
                        return;
                    }
    
                    // Simulate password change success 
                    const isSuccess = true;
    
                    if (isSuccess) {
                        // Show the success message
                        successMessage.style.display = 'block';
                    }
                });
            });
        </script>
      
</body>
</html>