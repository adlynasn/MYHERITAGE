<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="media/MYHeritage_Brand.png" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
    />

    <!--Bootstrap-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link href="resources/css/tiny-slider.css" rel="stylesheet" />
    <link href="resources/css/style.css" rel="stylesheet" />
    <title>User Account</title>
    <style>
      .star-rating {
        white-space: nowrap;
      }
      .star-rating [type="radio"] {
        appearance: none;
      }
      .star-rating i {
        font-size: 1.2em;
        transition: 0.3s;
      }

      .star-rating label:is(:hover, :has(~ :hover)) i {
        transform: scale(1.35);
        color: #fffdba;
        animation: jump 0.5s calc(0.3s + (var(--i) - 1) * 0.15s) alternate
          infinite;
      }
      .star-rating label:has(~ :checked) i {
        color: #faec1b;
        text-shadow: 0 0 2px #ffffff, 0 0 10px #ffee58;
      }
      .form-label {
        font-size: 15px;
      }
      .background {
        margin-bottom: 100px;
      }
    </style>
  </head>
    <body>
      <script type="module" src="/resources/js/main.js"></script>
      <script
        async
        crossorigin="anonymous"
        data-clerk-publishable-key="pk_test_c2V0dGxlZC1taW5ub3ctNjAuY2xlcmsuYWNjb3VudHMuZGV2JA"
        src="https://settled-minnow-60.clerk.accounts.dev/npm/@clerk/clerk-js@4/dist/clerk.browser.js"
        type="text/javascript"
      ></script>

      <!-- Start Header/Navigation -->
      <nav
        class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark"
        arial-label="MYHeritage navigation bar"
      >
        <div class="container">
          <a class="navbar-brand" href="index.html"
            >MyHeritage
            <!-- <img src="media/MYHeritage_Logo.png" alt="MyHeritage Logo" /> -->
          </a>

          <!-- Mobile Menu Toggle Button -->
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarsExampleDefault"
            aria-controls="navbarsExampleDefault"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-awesome fas fa-bars"></span>
            <span class="navbar-toggler-awesome fas fa-times"></span>
          </button>
          <!-- end of mobile menu toggle button -->

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarsFurni"
            aria-controls="navbarsFurni"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarsFurni">
            <ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
              <li><a class="nav-link" href="index.html">Home</a></li>
              <li><a class="nav-link" href="#">Shop</a></li>
              <li><a class="nav-link" href="artisan.html">Artisans</a></li>
              <li><a class="nav-link" href="homeAboutUs.html">About Us</a></li>
              <li>
                <a class="nav-link" href="homeContactUs.html">Contact us</a>
              </li>
            </ul>

            <ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
              <li class="nav-item active">
                <a class="nav-link" href="userAccount.html"
                  ><i class="bx bx-user"></i
                ></a>
                <!-- <div id="user-button"></div> -->
              </li>
              <li>
                <a class="nav-link" href="cart.html"
                  ><i class="bx bx-cart"></i
                ></a>
              </li>
              <li>
                <a
                  class="nav-link"
                  href="userSignIn.html"
                  style="color: #3b5d50; padding: 10px"
                  >Sign In
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <div class="container mt-5 background">
        <div class="row">
          <div class="col-lg-6 offset-lg-3">
            <h2 class="mb-4">Product Review</h2>
            <form id="productReviewForm">
              <div class="mb-3">
                <label for="orderId" class="form-label">Order ID:</label>
                <input type="text" class="form-control" id="orderId" name="orderId" required>
              </div>
              <div class="mb-3">
                <label for="review" class="form-label">Review:</label>
                <textarea
                  class="form-control"
                  id="review"
                  rows="5"
                  required
                ></textarea>
              </div>
              <div class="mb-3">
                <label class="form-label">Rating:</label>
                <p>
                  <span class="star-rating">
                    <label for="rate-1" style="--i: 1"
                      ><i class="fas fa-star"></i
                    ></label>
                    <input type="radio" name="rating" id="rate-1" value="1" />
                    <label for="rate-2" style="--i: 2"
                      ><i class="fas fa-star"></i
                    ></label>
                    <input
                      type="radio"
                      name="rating"
                      id="rate-2"
                      value="2"
                      checked
                    />
                    <label for="rate-3" style="--i: 3"
                      ><i class="fas fa-star"></i
                    ></label>
                    <input type="radio" name="rating" id="rate-3" value="3" />
                    <label for="rate-4" style="--i: 4"
                      ><i class="fas fa-star"></i
                    ></label>
                    <input type="radio" name="rating" id="rate-4" value="4" />
                    <label for="rate-5" style="--i: 5"
                      ><i class="fas fa-star"></i
                    ></label>
                    <input type="radio" name="rating" id="rate-5" value="5" />
                  </span>
                </p>
              </div>
              <button type="submit" class="btn btn-primary">
                Submit Review
              </button>
            </form>
          </div>
        </div>
      </div>

      <footer class="footer-section">
        <div class="container relative">
          <div class="sofa-img">
            <img src="media/MyHeritageHI.png" alt="Image" class="img-fluid" />
          </div>

          <div class="row">
            <div class="col-lg-8">
              <div class="subscription-form">
                <h3 class="d-flex align-items-center">
                  <span class="me-1"><i class="bx bx-envelope"></i></span
                  ><span>Subscribe to Newsletter</span>
                </h3>

                <form action="#" class="row g-3">
                  <div class="col-auto">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Enter your name"
                    />
                  </div>
                  <div class="col-auto">
                    <input
                      type="email"
                      class="form-control"
                      placeholder="Enter your email"
                    />
                  </div>
                  <div class="col-auto">
                    <button class="btn">
                      <span class="fa fa-paper-plane"></span>
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <div class="row g-5 mb-5">
            <div class="col-lg-4">
              <div class="mb-4 footer-logo-wrap">
                <a href="#" class="footer-logo">MyHeritage<span>.</span></a>
              </div>
              <p class="mb-4">
                Donec facilisis quam ut purus rutrum lobortis. Donec vitae odio
                quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam
                vulputate velit imperdiet dolor tempor tristique. Pellentesque
                habitant
              </p>

              <ul
                class="list-unstyled custom-social d-flex justify-content-start"
              >
                <li>
                  <a href="#"
                    ><span class="fa fa-brands fa-facebook-f"></span
                  ></a>
                </li>
                <li>
                  <a href="#"><span class="fa fa-brands fa-twitter"></span></a>
                </li>
                <li>
                  <a href="#"
                    ><span class="fa fa-brands fa-instagram"></span
                  ></a>
                </li>
                <li>
                  <a href="#"><span class="fa fa-brands fa-linkedin"></span></a>
                </li>
              </ul>
            </div>

            <div class="col-lg-8">
              <div class="row links-wrap justify-content-end">
                <div class="col-6 col-sm-6 col-md-3">
                  <ul class="list-unstyled">
                    <li><a href="#">About us</a></li>
                    <li><a href="#">Shop</a></li>
                    <li><a href="#">Artisans</a></li>
                    <li><a href="#">Contact us</a></li>
                  </ul>
                </div>

                <div class="col-6 col-sm-6 col-md-3">
                  <ul class="list-unstyled">
                    <li><a href="#">Support</a></li>
                    <li><a href="#">FAQs</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="border-top copyright">
            <div class="row pt-4">
              <div class="col-lg-6">
                <p class="mb-2 text-center text-lg-start">
                  Copyright &copy;
                  <script>
                    document.write(new Date().getFullYear());
                  </script>
                  . All Rights Reserved. &mdash; MyHeritage
                </p>
              </div>

              <div class="col-lg-6 text-center text-lg-end">
                <ul class="list-unstyled d-inline-flex ms-auto">
                  <li class="me-4"><a href="#">Terms &amp; Conditions</a></li>
                  <li><a href="#">Privacy Policy</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </footer>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.0.9/js/star-rating.min.js"
        type="text/javascript"></script>
        <script>
          // Function to handle form submission
          document.getElementById("productReviewForm").addEventListener("submit", function(event) {
              event.preventDefault(); // Prevent the default form submission behavior
  
              // Retrieve form data
              const orderId = document.getElementById("orderId").value;
              const review = document.getElementById("review").value;
              const rating = document.querySelector('input[name="rating"]:checked').value;
  
              // Prepare data object to send to the server
              const formData = {
                  orderId: orderId,
                  review: review,
                  rating: rating
              };
  
              // Send form data to the server using fetch API
              fetch("/submitProductReview", {
                  method: "POST",
                  headers: {
                      "Content-Type": "application/json"
                  },
                  body: JSON.stringify(formData)
              })
              .then(response => {
                  if (response.ok) {
                      // Display confirmation message
                      document.getElementById("confirmation").style.display = "block";
                      // Optionally, reset form fields after successful submission
                      document.getElementById("productReviewForm").reset();
                  } else {
                      throw new Error("Failed to submit review");
                  }
              })
              .catch(error => {
                  console.error("Error:", error);
                  // Optionally, display an error message to the user
              });
          });
      </script>
    </body>
</html>
